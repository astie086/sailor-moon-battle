<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sailor Moon Battle</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="background">
        <div id="neochibimoon"></div>
        <div class="beryl"></div>
        <div id="blasts"></div>

    </div>

    <script>

        var neochibimoon = {
            top: 400,
            left: 600
        };

        var blasts = [];


        //moving neochibimoon
        document.onkeydown = function (e) {

            console.log(e.keyCode);

            if (e.keyCode === 37) {
                console.log('Left');
                neochibimoon.left = neochibimoon.left - 10;
                moveChibi();
            }

            else if (e.keyCode === 39) {
                console.log('Right');
                neochibimoon.left = neochibimoon.left + 10;
                moveChibi();
            }

            else if (e.keyCode === 32) {
                console.log("blast");
                blasts.push({
                    left: neochibimoon.left + 15,
                    top: neochibimoon.top
                })
                fireBlast()
            }
        }

        function moveChibi() {
            document.getElementById('neochibimoon').style.left = neochibimoon.left + "px";
        }

        function fireBlast() {
            document.getElementById('blasts').innerHTML = "";
            for (var blast = 0; blast < blasts.length; blast = blast + 1) {

                //adding the blast
                document.getElementById('blasts').innerHTML +=
                    `<div class='blast' style='left:${blasts[blast].left}px; top:${blasts[blast].top}px;'></div>`;

            }
        }

        function gameLoop() {
            setTimeout(gameloop, 1000)
        }

        gameLoop();

    </script>

</body>


</html>